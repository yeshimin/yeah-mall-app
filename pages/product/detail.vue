<template>
	<view class="product-detail-container">
		<!-- é¡¶éƒ¨å¯¼èˆªæ  -->
		<view class="top-nav">
			<text class="back-btn" @click="goBack">&lt;</text>
			<text class="nav-title">å•†å“è¯¦æƒ…</text>
			<text class="more-btn">...</text>
		</view>
		
		<!-- å•†å“å›¾ç‰‡è½®æ’­ -->
		<swiper class="product-swiper" indicator-dots autoplay>
			<swiper-item>
				<image class="swiper-image" src="https://images.unsplash.com/photo-1752407828538-17e055766592?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"></image>
			</swiper-item>
			<swiper-item>
				<image class="swiper-image" src="https://images.unsplash.com/photo-1752407828538-17e055766592?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"></image>
			</swiper-item>
			<swiper-item>
				<image class="swiper-image" src="https://images.unsplash.com/photo-1752407828538-17e055766592?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"></image>
			</swiper-item>
		</swiper>
		
		<!-- å•†å“ä¿¡æ¯ -->
		<view class="product-info">
			<text class="product-name">å•†å“åç§°å•†å“åç§°å•†å“åç§°å•†å“åç§°å•†å“åç§°</text>
			<view class="product-price-section">
				<text class="current-price">ï¿¥199.00</text>
				<text class="original-price">ï¿¥299.00</text>
			</view>
			<view class="product-sales">é”€é‡: 1234</view>
		</view>
		
		<!-- é€‰æ‹©è§„æ ¼ -->
		<view class="spec-section" @click="showSpecPopup">
			<text>é€‰æ‹©è§„æ ¼</text>
			<text class="arrow">&gt;</text>
		</view>
		
		<!-- å•†å“è¯¦æƒ… -->
		<view class="detail-section">
			<text class="section-title">å•†å“è¯¦æƒ…</text>
			<view class="detail-content">
				<image class="detail-image" src="https://images.unsplash.com/photo-1752407828538-17e055766592?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"></image>
				<image class="detail-image" src="https://images.unsplash.com/photo-1752407828538-17e055766592?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"></image>
				<image class="detail-image" src="https://images.unsplash.com/photo-1752407828538-17e055766592?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"></image>
			</view>
		</view>
		
		<!-- åº•éƒ¨æ“ä½œæ  -->
		<view class="bottom-bar">
			<view class="bar-item" @click="addToCart">
				<text class="icon">ğŸ›’</text>
				<text>è´­ç‰©è½¦</text>
			</view>
			<view class="bar-item" @click="buyNow">
				<text class="buy-now">ç«‹å³è´­ä¹°</text>
			</view>
			<view class="bar-item" @click="addToFavorites">
				<text class="icon">â¤ï¸</text>
				<text>æ”¶è—</text>
			</view>
		</view>
		
		<!-- è§„æ ¼é€‰æ‹©å¼¹çª— -->
		<view class="spec-popup" v-if="showSpec" @click="closeSpecPopup">
			<view class="popup-content" @click.stop>
				<text class="close-btn" @click="closeSpecPopup">Ã—</text>
				<view class="popup-header">
					<image class="popup-image" src="https://images.unsplash.com/photo-1752407828538-17e055766592?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"></image>
					<view class="popup-info">
						<text class="popup-price">ï¿¥199.00</text>
						<text class="popup-spec">å·²é€‰: è§„æ ¼1</text>
					</view>
				</view>
				<view class="spec-options">
					<text class="spec-title">è§„æ ¼</text>
					<view class="spec-list">
						<view class="spec-item active">è§„æ ¼1</view>
						<view class="spec-item">è§„æ ¼2</view>
						<view class="spec-item">è§„æ ¼3</view>
					</view>
				</view>
				<view class="quantity-selector">
					<text class="quantity-title">æ•°é‡</text>
					<view class="quantity-controls">
						<text class="control-btn" @click="decreaseQuantity">-</text>
						<text class="quantity">1</text>
						<text class="control-btn" @click="increaseQuantity">+</text>
					</view>
				</view>
				<view class="confirm-btn" @click="confirmSpec">ç¡®å®š</view>
			</view>
		</view>
	</view>
</template>

<script>
	export default {
		data() {
			return {
				showSpec: false
			}
		},
		methods: {
			goBack() {
				uni.navigateBack();
			},
			showSpecPopup() {
				this.showSpec = true;
			},
			closeSpecPopup() {
				this.showSpec = false;
			},
			addToCart() {
				// æ·»åŠ åˆ°è´­ç‰©è½¦é€»è¾‘
				uni.showToast({
					title: 'å·²æ·»åŠ åˆ°è´­ç‰©è½¦',
					icon: 'success'
				});
			},
			buyNow() {
				// ç«‹å³è´­ä¹°é€»è¾‘
				uni.showToast({
					title: 'ç«‹å³è´­ä¹°',
					icon: 'none'
				});
			},
			addToFavorites() {
				// æ·»åŠ åˆ°æ”¶è—é€»è¾‘
				uni.showToast({
					title: 'å·²æ”¶è—',
					icon: 'success'
				});
			},
			decreaseQuantity() {
				// å‡å°‘æ•°é‡é€»è¾‘
				console.log('å‡å°‘æ•°é‡');
			},
			increaseQuantity() {
				// å¢åŠ æ•°é‡é€»è¾‘
				console.log('å¢åŠ æ•°é‡');
			},
			confirmSpec() {
				// ç¡®è®¤è§„æ ¼é€‰æ‹©
				this.closeSpecPopup();
				uni.showToast({
					title: 'å·²é€‰æ‹©è§„æ ¼',
					icon: 'success'
				});
			}
		}
	}
</script>

<style scoped>
	.product-detail-container {
		height: 100vh;
		padding-top: var(--status-bar-height);
	}
	
	.top-nav {
		display: flex;
		align-items: center;
		justify-content: space-between;
		height: 100rpx;
		padding: 0 20rpx;
		background-color: #fff;
		border-bottom: 1rpx solid #eee;
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		z-index: 100;
	}
	
	.back-btn, .more-btn {
		font-size: 32rpx;
	}
	
	.nav-title {
		font-size: 32rpx;
		font-weight: bold;
	}
	
	.product-swiper {
		height: 500rpx;
		margin-top: 100rpx;
	}
	
	.swiper-image {
		width: 100%;
		height: 100%;
	}
	
	.product-info {
		padding: 20rpx;
		background-color: #fff;
		border-bottom: 10rpx solid #f5f5f5;
	}
	
	.product-name {
		font-size: 32rpx;
		font-weight: bold;
		margin-bottom: 20rpx;
	}
	
	.product-price-section {
		display: flex;
		align-items: center;
		margin-bottom: 10rpx;
	}
	
	.current-price {
		font-size: 36rpx;
		color: #ff0000;
		margin-right: 20rpx;
	}
	
	.original-price {
		font-size: 24rpx;
		color: #888;
		text-decoration: line-through;
	}
	
	.product-sales {
		font-size: 24rpx;
		color: #888;
	}
	
	.spec-section {
		display: flex;
		justify-content: space-between;
		align-items: center;
		padding: 20rpx;
		background-color: #fff;
		border-bottom: 10rpx solid #f5f5f5;
	}
	
	.arrow {
		font-size: 28rpx;
		color: #888;
	}
	
	.detail-section {
		padding: 20rpx;
		background-color: #fff;
	}
	
	.section-title {
		font-size: 32rpx;
		font-weight: bold;
		margin-bottom: 20rpx;
	}
	
	.detail-content {
		display: flex;
		flex-direction: column;
		align-items: center;
	}
	
	.detail-image {
		width: 100%;
		height: 400rpx;
		margin-bottom: 20rpx;
	}
	
	.bottom-bar {
		display: flex;
		height: 100rpx;
		position: fixed;
		bottom: 0;
		left: 0;
		width: 100%;
		background-color: #fff;
		border-top: 1rpx solid #eee;
	}
	
	.bar-item {
		flex: 1;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
	}
	
	.icon {
		font-size: 40rpx;
		margin-bottom: 5rpx;
	}
	
	.buy-now {
		background-color: #ff0000;
		color: #fff;
		padding: 15rpx 40rpx;
		border-radius: 50rpx;
	}
	
	.spec-popup {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-color: rgba(0, 0, 0, 0.5);
		z-index: 200;
		display: flex;
		justify-content: center;
		align-items: flex-end;
	}
	
	.popup-content {
		width: 100%;
		background-color: #fff;
		padding: 20rpx;
		border-top-left-radius: 20rpx;
		border-top-right-radius: 20rpx;
		position: relative;
	}
	
	.close-btn {
		position: absolute;
		top: 20rpx;
		right: 20rpx;
		font-size: 40rpx;
	}
	
	.popup-header {
		display: flex;
		margin-bottom: 30rpx;
	}
	
	.popup-image {
		width: 150rpx;
		height: 150rpx;
		margin-right: 20rpx;
	}
	
	.popup-info {
		display: flex;
		flex-direction: column;
		justify-content: center;
	}
	
	.popup-price {
		font-size: 36rpx;
		color: #ff0000;
		margin-bottom: 10rpx;
	}
	
	.popup-spec {
		font-size: 24rpx;
		color: #888;
	}
	
	.spec-options {
		margin-bottom: 30rpx;
	}
	
	.spec-title {
		font-size: 28rpx;
		font-weight: bold;
		margin-bottom: 20rpx;
	}
	
	.spec-list {
		display: flex;
		flex-wrap: wrap;
	}
	
	.spec-item {
		padding: 10rpx 20rpx;
		border: 1rpx solid #eee;
		border-radius: 10rpx;
		margin-right: 20rpx;
		margin-bottom: 20rpx;
	}
	
	.spec-item.active {
		border-color: #ff0000;
		color: #ff0000;
	}
	
	.quantity-selector {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-bottom: 30rpx;
	}
	
	.quantity-title {
		font-size: 28rpx;
		font-weight: bold;
	}
	
	.quantity-controls {
		display: flex;
		align-items: center;
	}
	
	.control-btn {
		padding: 10rpx 20rpx;
		border: 1rpx solid #eee;
	}
	
	.quantity {
		padding: 10rpx 30rpx;
		border-top: 1rpx solid #eee;
		border-bottom: 1rpx solid #eee;
	}
	
	.confirm-btn {
		background-color: #ff0000;
		color: #fff;
		padding: 20rpx;
		text-align: center;
		border-radius: 10rpx;
	}
</style>